{% extends 'dashboard/base_dashboard.html.twig' %}
{% set title = 'Employee Dashboard' %}
{% set subtitle = 'Track orders, manage products, and assist customers.' %}

{% block dashboard_content %}
  <div class="row g-3 mb-4">
    {% include '_widgets/_kpi_card.html.twig' with {
      label: 'Products',
      value: stats.products,
      numeric_value: stats.products,
      icon: 'üì¶',
      col_class: 'col-md-6'
    } %}
    <div class="col-md-6" data-controller="orders" data-orders-url-value="{{ path('app_employee_orders_status') }}">
      <div class="card p-3 text-center shadow-sm h-100">
        <div class="fs-2 mb-2" aria-hidden="true">‚è≥</div>
        <h6 class="text-muted mb-1">Pending Orders</h6>
        <p class="fs-4 fw-bold mb-0">
          <span
            data-controller="kpi"
            data-orders-target="count"
            data-kpi-end-value="{{ stats.pendingOrders }}"
            data-kpi-decimals-value="0"
          >0</span>
        </p>
        <span class="badge bg-secondary mt-2" data-orders-target="badge">Checking...</span>
      </div>
    </div>
  </div>

  {% include '_widgets/_table_orders.html.twig' with {
    orders: recentOrders,
    title: 'Recent Orders',
    link: path('app_order_index')
  } %}
{% endblock %}
