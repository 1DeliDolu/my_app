{% extends 'base.html.twig' %}
{% block title %}Order Success{% endblock %}

{% block body %}
  {% embed 'partials/_page_layout.html.twig' with {
    title: 'Order Successful ðŸŽ‰',
    subtitle: 'Thank you for your purchase!'
  } %}
    {% block content %}
      <div class="text-center py-5">
        <h4>Your order #{{ order.id }} has been placed successfully.</h4>
        <p class="text-muted mb-4">Current status: <span class="badge bg-{{ order.status == 'Paid' ? 'success' : 'secondary' }}">{{ order.status }}</span></p>
        <p class="lead mb-4">Total: {{ order.total|number_format(2) }} â‚º</p>
        {% if order.status != 'Paid' %}
          <form action="{{ path('app_checkout_pay', {id: order.id}) }}" method="POST" class="d-inline">
            <button class="btn btn-success btn-lg px-4">Pay Now</button>
          </form>
        {% else %}
          <div class="alert alert-success w-auto d-inline-block">Payment received. A confirmation email was sent to you.</div>
        {% endif %}
        <div class="mt-4">
          <a href="{{ path('app_product_index') }}" class="btn btn-outline-primary">Continue Shopping</a>
        </div>
      </div>
    {% endblock %}
  {% endembed %}
{% endblock %}
